var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,a){b!=Array.prototype&&b!=Object.prototype&&(b[c]=a.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,c,a,n){if(c){a=$jscomp.global;b=b.split(".");for(n=0;n<b.length-1;n++){var y=b[n];y in a||(a[y]={});a=a[y]}b=b[b.length-1];n=a[b];c=c(n);c!=n&&null!=c&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Object.values",function(b){return b?b:function(b){var a=[],c;for(c in b)$jscomp.owns(b,c)&&a.push(b[c]);return a}},"es8","es3");var isAnimationFadingOut=!1;
(function(){function b(){var a=A/60,b=0;isAnimationFadingOut&&(null==B&&(B=a),b=Math.min(1,(a-B)/v));b=1-b;for(var c=125*b,e={},h=0;4E3>h;e={vel:e.vel},h++){var d=new THREE.Vector2(k.geometry.attributes.position.array[3*h],k.geometry.attributes.position.array[3*h+1]),f=1-h%2*2;new THREE.Vector2(f?-d.y:d.y,f?d.x:-d.x);new THREE.Vector2(Math.random()-.5,Math.random()-.5);var g=h/4E3*Math.PI*2+.3*f*a*125/400,r=.2*a+Math.sin(g);f=w.noise3d(Math.cos(g*f),2*r,h%4/4);r=(.5+H(w.noise3d(0,Math.sin(g),.5*r)))*
f*f;f=new THREE.Vector2(Math.cos(g),Math.sin(g));f.multiplyScalar(c+70*r*b);g=w.noise3d(h/100,.1*a,0);r=w.noise4d(0,.1*a*.35,u*d.x*.012+1.7,.011*u*d.y);var l=w.noise4d(0,0*a,u*d.x*.01,u*d.y*.013);r=new THREE.Vector2(r,l);l=f.sub(d);isAnimationFadingOut||l.clampLength(0,30*u);f=0;for(var t=[],q=0;q<p.length;q++){var x=p[q].clone().sub(d),m=x.lengthSq();f+=1-Math.min(1,m/(2E4*u*u));var z=w.noise3d(1.24*h,.02*a,0);m=1-Math.min(1,m/(3906.25+1953.125*Math.abs(z)));x=new THREE.Vector2(-x.x,-x.y);x.setLength(m);
t.push(x)}e.vel=new THREE.Vector2;e.vel.addScaledVector(l,.5*TWEEN.Easing.Exponential.Out(1-f));e.vel.addScaledVector(r,(10+50*g)*f);t.forEach(function(a){return function(b){a.vel.addScaledVector(b,10)}}(e));d.addScaledVector(e.vel,.1+.4*f);k.geometry.attributes.position.array[3*h]=d.x;k.geometry.attributes.position.array[3*h+1]=d.y;d=n.clone();d.lerp(y,f);k.geometry.attributes.color.array[3*h]=d.r;k.geometry.attributes.color.array[3*h+1]=d.g;k.geometry.attributes.color.array[3*h+2]=d.b}k.geometry.attributes.position.needsUpdate=
!0;k.geometry.attributes.color.needsUpdate=!0}function c(){0==A&&onFirstFrame();b();l.render(z,C);requestAnimationFrame(c);A++}var a=document.getElementById("animation-script"),n=new THREE.Color(a.getAttribute("data-circle-color")),y=new THREE.Color(a.getAttribute("data-touch-color")),v=parseFloat(a.getAttribute("data-fade-out-duration"))/1E3;v!=v&&(console.log("Failed to parse fade out duration "+a.getAttribute("data-fade-out-duration")),console.log("Make sure the script for the animation has the tag 'data-fade-out-duration' with the fade out time in milliseconds."),
v=1.3,v=Math.max(1E-5,v));var w=new SimplexNoise,l=new THREE.WebGLRenderer({alpha:!0});/Mobi/.test(navigator.userAgent)||l.setPixelRatio(window.devicePixelRatio);var z=new THREE.Scene;document.querySelector("#animation").appendChild(l.domElement);var u=125/300,A=0,C=new THREE.OrthographicCamera(-250,250,250,-250,-1E3,1E3);z.add(C);l.setSize(500,500);var H=function(a){return a*a};a=l.domElement;var t=!1,p=[],g=function(a){p=t?[p[0]]:[];Object.values(a.targetTouches).forEach(function(b){b=a.target.getBoundingClientRect();
p.push(new THREE.Vector2(a.targetTouches[0].pageX-b.left-250,250-(a.targetTouches[0].pageY-b.top)));a.preventDefault()})};a.addEventListener("touchstart",g);a.addEventListener("touchmove",g);a.addEventListener("touchend",g);var D=function(a){a=new THREE.Vector2(a.offsetX-250,250-a.offsetY);t||(p.unshift(a),t=!0);p[0]=a};a.addEventListener("mouseenter",D);var E=function(a){t?p[0]=new THREE.Vector2(a.offsetX-250,250-a.offsetY):D(a)};a.addEventListener("mousemove",E);a.addEventListener("mouseleave",
function(a){E(a);p.shift();t=!1});a=new THREE.BufferGeometry;g=new THREE.TextureLoader;g=new THREE.PointsMaterial({vertexColors:THREE.VertexColors,size:.6,map:g.load("images/particle.png"),blending:THREE.AdditiveBlending,transparent:!0,depthWrite:!1});var q=new Float32Array(12E3);a.addAttribute("position",new THREE.BufferAttribute(q,3));q=a.attributes.position.array;var m=new Float32Array(12E3);a.addAttribute("color",new THREE.BufferAttribute(m,3));m=a.attributes.color.array;a.setDrawRange(0,4E3);for(var e=
0;4E3>e;e++){var F=2*Math.PI*e/4E3+0*Math.random(),G=75*Math.pow(Math.random(),1.5),I=Math.sin(F)*G;q[3*e]=Math.cos(F)*G;q[3*e+1]=I;q[3*e+2]=-50;m[3*e]=1;m[3*e+1]=1;m[3*e+2]=1}var k=new THREE.Points(a,g);z.add(k);var B=null;new THREE.CircleGeometry(30,20);new THREE.MeshBasicMaterial({color:16777215,opacity:.3,transparent:!0});requestAnimationFrame(c)})();